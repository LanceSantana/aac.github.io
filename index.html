<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AAC Avatar</title>

<style>
  :root{
    --ink:#0e0e0e; --muted:#6b6b6b; --line:#e8e8e8;
    --sage:#7f8f73; --sage-900:#5a6a52; --sage-100:#e7efd9;
    --tab-green:#98b38c; --tab-teal:#a8c6bd; --tab-blue:#9fb4d8;
    --tab-purple:#b6a0bd; --tab-rose:#caa5a5;
    --pale: var(--sage-100); 
  }
  *{ box-sizing:border-box; }
  html,body{ margin:0; padding:0; }
  body{ font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink); background:#fff; }
  .container{ width:min(1100px,92vw); margin:0 auto; }

  /* NAV: left brand, centered links, right icon */
  .nav{
    display:grid;
    grid-template-columns: 1fr auto 1fr;
    align-items:center;
    gap:16px;
    padding:16px 20px;
  }
  .brand{ font-weight:700; font-size:22px; text-decoration:none; color:var(--ink); justify-self:start; }
  .navlinks{ display:flex; gap:28px; align-items:center; justify-self:center; }
  .navlinks a{ color:var(--ink); text-decoration:none; font-size:14px; }
  .navlinks a:hover{ text-decoration:underline; }
  .nav-actions{ justify-self:end; }
  .avatar-btn{
    width:36px; height:36px; border-radius:50%;
    background:var(--sage); color:#fff; border:0; cursor:pointer;
    display:grid; place-items:center; font-size:16px;
  }

  /* TITLE (centered) */
  .hero{ text-align:center; margin:18px 0 30px; }
  .hero h1{ font-weight:500; font-size:clamp(26px,4.2vw,36px); margin:10px 0 0; }

  /* TABS: half-pill tabs plugged into a long rounded bar */
  .tabs{ position:relative; padding:12px 6px 0; }
  .tabs-list{ display:flex; gap:10px; align-items:flex-start; position:relative; z-index:1; }

  /* Individual tab buttons: top-only rounded (half-pill look) */
  .tab{
    --tab-height:36px; /* reduced height */
    height:var(--tab-height);
    padding:6px 12px;
    border:0;
    border-radius:12px 12px 0 0; /* only top corners rounded */
    font-weight:700;
    font-size:13px; /* slightly smaller font */
    color:#ffffff; /* white labels */
    cursor:pointer;
    user-select:none;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 1px 0 rgba(0,0,0,.06);
    transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
    position:relative; z-index:0; white-space:nowrap;
  }
  .tab.sage   { background:var(--tab-green, var(--sage)); }
  .tab.teal   { background:var(--tab-teal); }
  .tab.blue   { background:var(--tab-blue); }
  .tab.purple { background:var(--tab-purple); }
  .tab.rose   { background:var(--tab-rose); }

  /* Hover: slightly darker + small lift (visual depth) */
  .tab:hover, .tab:focus-visible{
    filter:brightness(.94);
    transform:translateY(-3px);
    box-shadow:0 8px 16px rgba(19,29,15,.10);
    z-index:3; /* ensure hovered tab sits above the bar */
  }
  .tab:active{ transform:translateY(-1px); filter:brightness(.9); box-shadow:0 4px 10px rgba(10,18,8,.12); }
  .tab:focus{ outline:3px solid rgba(0,0,0,.08); outline-offset:4px; }

  @media (max-width:420px){ .tabs-list{ flex-wrap:wrap; gap:8px; } .tab{ height:34px; padding:6px 10px; border-radius:10px 10px 0 0; font-size:13px; } }

  /* MAIN PANEL */
  .panel{
    background:var(--sage);
    border-radius:18px;
    padding:18px;
    display:grid;
    grid-template-columns: 1.1fr 1fr;
    gap:18px;
    box-shadow: inset 0 1px 0 rgba(0,0,0,.06);
  }
  @media (max-width: 900px){ .panel{ grid-template-columns: 1fr; } }

  .frame{ background:#24301f20; border-radius:14px; padding:10px; box-shadow: 0 2px 0 rgba(0,0,0,.12); }
  .frame{ transition: background .32s ease, color .24s ease; }
  .screen{
    width:100%; aspect-ratio:16 / 9; border-radius:12px; object-fit:cover; display:block; background:#ddd;
    box-shadow: 0 2px 0 rgba(0,0,0,.18);
  }

  /* GRID OF BUTTONS */
.key {
display: flex;
flex-direction: column;
align-items: center;
justify-content: space-between;
overflow: hidden;
padding: 8px;
border-radius: 10px;
text-align: center;
font-weight: 600;
height: 100%;
}


.key-img {
width: 70%;
max-width: 80px;
max-height: 60px;
object-fit: contain;
flex-shrink: 0;
display: block;
margin: 0 auto 6px;
}


.key span {
font-size: 0.95rem;
line-height: 1.2;
}


.keys {
display: grid;
gap: 12px;
grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
grid-auto-rows: 120px;
}
  /* old stuff*/ 
  .keys{ display:grid; gap:14px; grid-template-columns: repeat(3, minmax(0,1fr)); }
  @media (max-width: 420px){ .keys{ grid-template-columns: repeat(2,minmax(0,1fr)); } }
  .key{
    background:#d7e0cf; border:2px solid #c7d1bd; border-radius:10px; padding:14px 12px;
    text-align:center; font-weight:600; box-shadow:0 1px 0 rgba(0,0,0,.08); cursor:pointer;
    transition: transform .12s ease, background .28s ease, border-color .28s ease, color .2s ease; user-select:none;
  }
  .key:active{ transform: translateY(1px); }
  .key:hover{ background:#e2e9d9; border-color:#b8c4ad; }
  .key:focus{ outline:3px solid rgba(37,101,45,0.18); outline-offset:2px; }

  /* accessible helper to announce speech status */
  .visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px, 1px, 1px, 1px); white-space:nowrap; }

  /* Center the container itself */
  .container { margin-left:auto; margin-right:auto; }

  /* Title: center the block, not just the text */
  .hero { display:grid; place-items:center; width:100%; }  /* full row, grid centers */
  .hero h1 { margin:0; justify-self:center; text-align:center; }

  /* Footer: same idea */
  .footer-note { display:grid; place-items:center; text-align:center; width:100%; }

  /* BELOW: ABOUT + HOW TO USE
     Center two fixed-width cards as a pair. Text inside cards remains left-aligned.
     The .cards wrapper is centered with margin-inline:auto and max-width. On narrow screens the cards stack. */
  .lower{ margin:34px 0 20px; }
  .lower .cards{ display:flex; gap:30px; justify-content:center; align-items:flex-start; max-width:980px; margin-inline:auto; }
  .lower .card{ width:440px; box-sizing:border-box; padding:0 8px; text-align:left; }
  h3{ margin:0 0 10px; font-size:20px; }
  .lower .card p, .lower .card ul{ color:#1b1b1b; line-height:1.55; max-width:48ch; }
  @media (max-width: 900px){
    .lower .cards{ flex-direction:column; gap:100px; align-items:center; }
    .lower .card{ width:92vw; padding:0; }
  }

  /* FOOTER (centered, two lines) */
  .footer-note{ text-align:center; margin:24px 0 36px; font-size:14px; line-height:1.4; }
  .thanks{ display:block; color:var(--sage-900); font-weight:600; }
  .feedback{ display:block; color:var(--sage-900); }
  /* footer link styling */
  .footer-note a{ color:var(--sage-900); text-decoration:underline; font-weight:400; }

  /* Big green arc (decorative) */
  .arc-bg{
    position: fixed;             /* stays pinned to viewport */
    left: 50%;
    transform: translateX(-50%); /* center it */
    bottom: -35vh;               /* how far it dips below the edge */
    width: 130vw;                /* wider than screen so edges are hidden */
    height: 60vh;                /* arc height */
    border-radius: 50% 50% 0 0 / 100% 100% 0 0; /* top is a half-ellipse */
    background: var(--pale);     /* your pale green */
    z-index: -1;                 /* behind page content */
    pointer-events: none;
  }
</style>
</head>
<body>

  <!-- NAV -->
  <header class="container nav">
    <a class="brand" href="#">AAC Avatar</a>
    <nav class="navlinks" aria-label="Primary">
      <a href="#">Home</a>
      <a href="#">Howâ€“to</a>
      <a href="#">Accessibility</a>
      <a href="#">About Us</a>
    </nav>
    <div class="nav-actions">
      <button class="avatar-btn" aria-label="Profile / Lock">ðŸ”’</button>
    </div>
  </header>

  <!-- TITLE -->
  <section class="container hero">
    <h1>An avatar to build your voice.</h1>
  </section>

  <!-- TABS -->
  <section class="container tabs" aria-label="Categories">
    <div class="tabs-list">
      <button class="tab sage" type="button" data-color-var="--tab-green">Social</button>
      <button class="tab teal" type="button" data-color-var="--tab-teal">Feelings</button>
      <button class="tab blue" type="button" data-color-var="--tab-blue">School</button>
      <button class="tab purple" type="button" data-color-var="--tab-purple">Restaurant</button>
      <button class="tab rose" type="button" data-color-var="--tab-rose">Family</button>
    </div>
  </section>

  <!-- GREEN PANEL -->
  <section class="container panel" aria-label="Avatar and quick phrases">
    <div class="frame">
      <!-- re add the "src="your-video.mp4" part-->
      <video class="screen" id="screen-box" poster="poster.jpg" controls></video>
      <!-- Or: <img class="screen" src="your-image.jpg" alt="Avatar"> -->
    </div>

<div id="keys-container" class="keys"></div>

<div class="sentence-area" style="margin-top:14px;">
  <div id="sentence-field" 
       style="background:#fff;border:2px solid #ccc;border-radius:8px;padding:10px;
              min-height:40px;font-size:16px;">
  </div>
  <div style="margin-top:10px;display:flex;gap:10px;">
    <button id="speak-sentence" 
            style="background:#7f8f73;color:white;border:none;padding:10px 16px;
                   border-radius:8px;font-weight:600;cursor:pointer;">Speak Sentence</button>
    <button id="clear-sentence" 
            style="background:#ccc;color:#000;border:none;padding:10px 16px;
                   border-radius:8px;font-weight:600;cursor:pointer;">Clear</button>
  </div>
</div>

  </section>

  <!-- LOWER CONTENT -->
  <section class="container lower">
    <div class="cards">
      <div class="card">
        <h3>About:</h3>
        <p>
          This AAC avatar provides a safe space to practice communication. Users can
          explore common situations, like greetings, school, home, and social interactions,
          by selecting buttons that let the avatar speak on their behalf. The goal is to
          build confidence, fluency, and independence in everyday communication.
        </p>
      </div>

      <div class="card">
        <h3>How to Use:</h3>
        <ul>
          <li>Choose a tab (General, School, Greetings, etc.) to see related phrases.</li>
          <li>Tap a button to have the avatar speak the word or phrase out loud.</li>
          <li>Practice repeating the phrase with the avatar for confidence.</li>
          <li>Switch tabs to explore different everyday situations.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
    <footer class="container footer-note">
      <span class="thanks">Thanks for trying our tool!</span>
      <span class="feedback"> <a href="#">Share your feedback</a> to help us improve.</span>
    </footer>

  <!-- Accessible live region + behavior for buttons -->
  <div id="speech-status" class="visually-hidden" aria-live="polite"></div>

  <script>
    (function(){
      // Speak the button label using the Web Speech API (if available).
      const synth = window.speechSynthesis;
      const status = document.getElementById('speech-status');

      function speak(text){
        if(!synth){
          // Fallback: update live region so assistive tech knows something happened
          status.textContent = text;
          return;
        }
        // cancel any current speech so quick taps interrupt
        try{ synth.cancel(); }catch(e){}
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'en-US';
        u.rate = 0.95;
        u.pitch = 1;
        u.onstart = ()=> { status.textContent = 'Speaking: ' + text; };
        u.onend = ()=> { status.textContent = ''; };
        synth.speak(u);
      }

      // Make keys play audio for a specific set of labels on click
      const keys = document.querySelectorAll('.key');
      const speakKeys = new Set([
        'yes','time','drinks','people','position','no','questions','places','actions','things','chat','food','me','activities','numbers'
      ]);
      keys.forEach(k => {
        k.addEventListener('click', e => {
          const text = (k.textContent || k.innerText || '').trim();
          if(!text) return;
          // small visual pressed feedback for keyboard users
          k.setAttribute('aria-pressed', 'true');
          setTimeout(()=> k.removeAttribute('aria-pressed'), 240);
          // only play audio for the allowed words (case-insensitive)
          if(speakKeys.has(text.toLowerCase())){
            speak(text);
          }
        });
      });

      // Tabs: toggle active class and set aria-selected (purely visual here)
      const tabs = document.querySelectorAll('.tabs .tab');
      tabs.forEach(tab => {
        tab.setAttribute('role','tab');
        tab.tabIndex = 0; // make focusable
        tab.addEventListener('click', ()=> selectTab(tab));
        tab.addEventListener('keydown', (e)=> { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); selectTab(tab); } });
      });

      function selectTab(tab){
        tabs.forEach(t=> t.classList.remove('active'));
        tab.classList.add('active');
        // announce selection
        const name = (tab.textContent||tab.innerText||'').trim();
        status.textContent = name + ' tab selected';
        
        // Apply tab color to keys and screen
        const colorVar = tab.getAttribute('data-color-var') || '--tab-green';
        const root = getComputedStyle(document.documentElement);
        const color = root.getPropertyValue(colorVar).trim() || '#98b38c';

  // set key backgrounds and borders
        const keysEls = document.querySelectorAll('.key');
        // compute a darker border color by reducing lightness via a quick HSL conversion
        function hexToRgb(h){
          const v = h.replace('#','');
          const bigint = parseInt(v,16);
          return [(bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];
        }
  function rgbToHex(r,g,b){ return '#'+[r,g,b].map(x=> x.toString(16).padStart(2,'0')).join(''); }
  function darker(col,amt){ try{ const [r,g,b]=hexToRgb(col); return rgbToHex(Math.max(0,r-amt),Math.max(0,g-amt),Math.max(0,b-amt)); }catch(e){ return col; } }
  function lighter(col,amt){ try{ const [r,g,b]=hexToRgb(col); return rgbToHex(Math.min(255,r+amt),Math.min(255,g+amt),Math.min(255,b+amt)); }catch(e){ return col; } }

        const borderColor = darker(color,18);
        // decide text color based on perceived brightness
        function luminance([r,g,b]){ return 0.299*r + 0.587*g + 0.114*b; }
        const textColor = (luminance(hexToRgb(color)) > 150) ? '#0e0e0e' : '#ffffff';

        // use a slightly lighter version of the tab color for the small buttons
        const keyBg = lighter(color,30);
        keysEls.forEach(k=>{
          k.style.background = keyBg;
          k.style.borderColor = borderColor;
          k.style.color = textColor;
        });

        // set the screen background tint to a slightly transparent version
        const screen = document.querySelector('.screen');
        if(screen){
          screen.style.background = color;
          screen.style.color = textColor;
        }

        // tint the frame so the buttons inside feel like part of the color
        const frame = document.querySelector('.frame');
        try{
          const rgb = hexToRgb(color);
          if(frame && rgb && rgb.length===3){
            frame.style.background = `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]}, 0.10)`;
            frame.style.color = textColor;
          }
        }catch(e){}

        // change the panel (the box that contains video + buttons) to a slightly darker version
        try{
          const panel = document.querySelector('.panel');
          if(panel){
            const panelColor = darker(color, 36); // darker by a noticeable amount
            panel.style.background = panelColor;
            // adjust panel text for contrast
            const panelText = (luminance(hexToRgb(panelColor)) > 150) ? '#0e0e0e' : '#ffffff';
            panel.style.color = panelText;
          }
        }catch(e){ /* ignore */ }

        // update the decorative arc to match (more vibrant/translucent)
        try{
          const arc = document.querySelector('.arc-bg');
          const rgb2 = hexToRgb(color);
          if(arc && rgb2 && rgb2.length===3){
            arc.style.background = `rgba(${rgb2[0]}, ${rgb2[1]}, ${rgb2[2]}, 0.26)`; // stronger tint
            arc.style.boxShadow = `0 -10px 60px rgba(${rgb2[0]}, ${rgb2[1]}, ${rgb2[2]}, 0.08)`;
          }
        }catch(e){}
      }

    // --- Tab â†’ Word mappings ---
const tabWords = {
  "Social": ["Hi", "Bye", "Thank you", "Please", "Good job", "Sorry"],
  "Feelings": ["Happy", "Sad", "Angry", "Tired", "Excited", "Scared"],
  "School": ["Teacher", "Class", "Book", "Homework", "Help", "Recess"],
  "Restaurant": ["Eat", "Drink", "Menu", "Water", "Burger", "Bill"],
  "Family": ["Mom", "Dad", "Brother", "Sister", "Home", "Love"]
};

// --- Elements ---
const keysContainer = document.getElementById('keys-container');
const sentenceField = document.getElementById('sentence-field');
const speakSentenceBtn = document.getElementById('speak-sentence');
const clearSentenceBtn = document.getElementById('clear-sentence');

// --- Populate keys based on tab ---
function populateKeys(tabName) {
  keysContainer.innerHTML = '';
  const words = tabWords[tabName] || [];
  words.forEach(word => {
    const btn = document.createElement('button');
    btn.className = 'key';
    //btn.textContent = word;
    btn.innerHTML = `<img src="icons/${word.toLowerCase()}.png" alt="${word}" class="key-img"><span>${word}</span>`;
    const img = btn.querySelector("img");
    img.onerror = () => { img.style.display = "none"; };

    btn.addEventListener('click', () => {
      addToSentence(word);
    });
    keysContainer.appendChild(btn);
  });
}

// --- Build sentence ---
function addToSentence(word) {
  sentenceField.textContent += (sentenceField.textContent ? ' ' : '') + word;
}

// --- Speak full sentence ---
/*speakSentenceBtn.addEventListener('click', () => {
  const text = sentenceField.textContent.trim();
  if (!text) return;
  speak(text);
  queryGemini(text); 
}); */
speakSentenceBtn.addEventListener('click', async () => {
  const text = sentenceField.textContent.trim();
  if (!text) return;

  // Send to Gemini and speak
  speak(text);
  await queryGemini(text);

  // Automatically clear after speaking
  sentenceField.textContent = "";
});

// --- Clear sentence ---
clearSentenceBtn.addEventListener('click', () => {
  sentenceField.textContent = '';
});

// Load default tab on startup
populateKeys("Social");

// Update selectTab to change words too:
const originalSelectTab = selectTab;
selectTab = function(tab){
  originalSelectTab(tab);
  const name = (tab.textContent||tab.innerText||'').trim();
  populateKeys(name);
};
//new?

/* async function queryGemini(sentence) {
  try {
    const res = await fetch("http://127.0.0.1:5000/api/gemini", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text: sentence }),
    });
    const data = await res.json();

    // Display Gemini's reply inside the video box
    const screen = document.querySelector(".screen");
    if (screen) {
      screen.innerHTML = `<div style="padding:15px; color:white; font-size:18px;">
        ${data.reply}
      </div>`;
    }
  } catch (err) {
    console.error("Gemini error:", err);
  }
}
*/
//newer
/*
async function queryGemini(sentence) {
  const res = await fetch("http://127.0.0.1:5000/api/gemini", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ text: sentence }),
  });
  const data = await res.json();

  // Replace the video content with Geminiâ€™s text
  const screen = document.getElementById("screen-box");
  screen.outerHTML = `
    <div id="screen-box" class="screen" style="
      background-color: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      color: white;
      padding: 20px;
      font-size: 18px;
      text-align: center;
    ">
      ${data.reply}
    </div>`;
}
*/
//newest
/*
async function queryGemini(sentence) {
  const res = await fetch("http://127.0.0.1:5000/api/gemini", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ text: sentence }),
  });
  const data = await res.json();

  // hide the video and show text instead
  const screen = document.getElementById("screen-box");
  screen.style.display = "none";

  // create a new text overlay div
  let textBox = document.getElementById("gemini-output");
  if (!textBox) {
    textBox = document.createElement("div");
    textBox.id = "gemini-output";
    screen.parentElement.appendChild(textBox);
  }

  textBox.innerHTML = data.reply;
  textBox.style.cssText = `
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    border-radius: 12px;
    padding: 20px;
    font-size: 18px;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
  `;
}
*/
/*
async function queryGemini(sentence) {
  try {
    const res = await fetch("http://127.0.0.1:5000/api/gemini", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text: sentence }),
    });

    const data = await res.json();
    const reply = data.reply || "No response from Gemini.";

    // --- Print response in console ---
    console.log("Gemini reply:", reply);
    //newer additions
    window.speechSynthesis.cancel(); // stop any previous voice
const utterance = new SpeechSynthesisUtterance(reply);
utterance.lang = "en-US";
utterance.rate = 1;
utterance.pitch = 1;
utterance.onstart = () => console.log("Speaking...");
utterance.onend = () => console.log("Done speaking.");
speechSynthesis.speak(utterance);

    // --- Display it inside the video/text box ---
    const screen = document.getElementById("screen-box");
    screen.style.display = "none"; // hide video

    let textBox = document.getElementById("gemini-output");
    if (!textBox) {
      textBox = document.createElement("div");
      textBox.id = "gemini-output";
      screen.parentElement.appendChild(textBox);
    }

    textBox.innerHTML = reply;
    textBox.style.cssText = `
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      border-radius: 12px;
      padding: 20px;
      font-size: 18px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    `;

    // --- Speak the Gemini reply aloud ---
    const synth = window.speechSynthesis;
    if (synth) {
      const utterance = new SpeechSynthesisUtterance(reply);
      utterance.lang = "en-US";
      utterance.rate = 1.0;
      utterance.pitch = 1.0;
      synth.cancel();  // stop any prior speech
      synth.speak(utterance);
    }

  } catch (error) {
    console.error("Gemini API error:", error);
  }
}
*/
async function queryGemini(sentence) {
  try {
    const res = await fetch("http://127.0.0.1:5000/api/gemini", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text: sentence }),
    });

    const data = await res.json();
    const reply = data.reply || "No response from Gemini.";

    console.log("Gemini reply:", reply);

    // Speak the Gemini reply aloud
    const synth = window.speechSynthesis;
    if (synth) {
      const utter = new SpeechSynthesisUtterance(reply);
      utter.lang = "en-US";
      utter.rate = 1;
      synth.cancel();
      synth.speak(utter);
    }

    // --- Display Gemini output *only inside* the video area ---
    const frame = document.querySelector(".frame");
    const screen = document.getElementById("screen-box");

    // Hide the video but keep the frame size fixed
    screen.style.display = "none";

    // Create or update a text box confined to the frame
    let textBox = document.getElementById("gemini-output");
    if (!textBox) {
      textBox = document.createElement("div");
      textBox.id = "gemini-output";
      frame.appendChild(textBox);
    }

    textBox.innerHTML = reply;
    textBox.style.cssText = `
      width: 100%;
      aspect-ratio: 16/9;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      background-color: rgba(0,0,0,0.7);
      color: white;
      font-size: 18px;
      padding: 20px;
      border-radius: 12px;
      position: relative;   /* stays within frame */
      overflow-y: auto;
    `;

  } catch (error) {
    console.error("Gemini API error:", error);
  }
}


    })();
  </script>
</script>

<div class="arc-bg" aria-hidden="true"></div>

</body>
</html>
